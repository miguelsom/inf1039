{% extends "base.html" %}
{% block title %}GradGuru ‚Ä¢ Disciplina{% endblock %}

{% block content %}
<section class="section">
  <h1 class="page-title">{{ disciplina.nome }}</h1>
  <p><strong>Professores:</strong> Maria Silva, Carlos Moura, Ana Paula Rocha</p>
  <p><strong>Cr√©ditos:</strong> {{ disciplina.creditos }}</p>
</section>

<section class="section">
  <h2>Resumo</h2>
  <p>Foco em m√©todos √°geis, modelagem UML e testes automatizados. Cada professor aplica projetos e metodologias distintas, enriquecendo o aprendizado de formas complementares.</p>
</section>

<section class="section">
  <h2>Avalia√ß√µes</h2>

  <div class="avaliacao">
    <strong>Maria Silva</strong> ‚Äî Nota: 4.5 ‚≠ê
    <p>√ìtima explica√ß√£o te√≥rica e bons projetos em grupo.</p>
    <span class="heart" onclick="toggleHeart(this)">&#10084;</span>
    <span class="count">0</span>
  </div>

  <div class="avaliacao">
    <strong>Carlos Moura</strong> ‚Äî Nota: 3.5 ‚≠ê
    <p>Muita leitura e poucos exemplos pr√°ticos, mas domina o conte√∫do.</p>
    <span class="heart" onclick="toggleHeart(this)">&#10084;</span>
    <span class="count">0</span>
  </div>
</section>

<section class="section">
  <h2>Materiais</h2>
  <ul>
    <li><a href="#">üìÑ Apostila Oficial</a></li>
    <li><a href="#">üîó Grupo de Discuss√£o</a></li>
    <li><a href="#">üìÅ Reposit√≥rio GitHub</a></li>
  </ul>
  <button class="adicionar-arquivo">+ Adicionar Arquivo</button>
</section>

<!-- CSS do cora√ß√£o -->
<style>
  .heart {
    font-size: 24px;
    color: #ccc;
    cursor: pointer;
    margin-left: 8px;
    transition: color 0.3s;
    user-select: none;
  }

  .heart.liked {
    color: red;
  }

  .count {
    margin-left: 4px;
    font-weight: bold;
  }
</style>

<!-- JS do cora√ß√£o + contador -->
<script>
  function toggleHeart(element) {
    const countSpan = element.nextElementSibling; // o <span> do n√∫mero
    let count = parseInt(countSpan.innerText);

    if (element.classList.contains('liked')) {
      element.classList.remove('liked');
      count = Math.max(0, count - 1); // garante que n√£o fica negativo
    } else {
      element.classList.add('liked');
      count += 1;
    }

    countSpan.innerText = count;
  }
</script>

{% endblock %}
